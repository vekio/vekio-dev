---
import type { TagDefinition } from "@/data/projectTags";

interface Props {
  tag: TagDefinition;
  size?: "sm" | "md" | "lg" | "xl" | "xxl";
}

const sizeClasses = {
  sm: "px-2.5 py-1 text-[11px]",
  md: "px-3.5 py-1.5 text-[12px]",
  lg: "px-4 py-1.75 text-[13px]",
  xl: "px-4.5 py-1.75 text-[14px]",
  xxl: "px-5.5 py-2.25 text-[15px]",
} as const;

const iconSizes = {
  sm: "size-3.5",
  md: "size-4.5",
  lg: "size-5",
  xl: "size-6",
  xxl: "size-7",
} as const;

const { tag, size = "md" } = Astro.props as Props;
const Icon = tag.icon;
const iconClass = tag.iconClass ?? iconSizes[size];
const labelClass = tag.labelClass ?? "";
---

<span
  class={`inline-flex items-center gap-2 rounded-full font-semibold uppercase tracking-[0.08em] ${sizeClasses[size]} ${tag.chipClass}`}
>
  {Icon && <Icon class={iconClass} />}
  <span class={`whitespace-nowrap ${labelClass}`}>{tag.label}</span>
</span>
