---
import ToolIcon from "@/components/ToolIcon.astro";

type ToolLevel = "Iniciado" | "Intermedio" | "Avanzado" | "Experto";

type ToolId = "react" | "astro" | "typescript" | "node" | "tailwind" | "docker";

interface Tool {
  id: ToolId;
  name: string;
  category: string;
  color: string;
  level: ToolLevel;
}

const TOOLS: Tool[] = [
  {
    id: "react",
    name: "React",
    category: "Frontend",
    color: "#61DAFB",
    level: "Experto",
  },
  {
    id: "astro",
    name: "Astro",
    category: "Frontend",
    color: "#FF5D01",
    level: "Avanzado",
  },
  {
    id: "typescript",
    name: "TypeScript",
    category: "Lenguaje",
    color: "#3178C6",
    level: "Experto",
  },
  {
    id: "node",
    name: "Node.js",
    category: "Backend",
    color: "#339933",
    level: "Avanzado",
  },
  {
    id: "tailwind",
    name: "Tailwind CSS",
    category: "UI",
    color: "#38BDF8",
    level: "Experto",
  },
  {
    id: "docker",
    name: "Docker",
    category: "DevOps",
    color: "#0db7ed",
    level: "Intermedio",
  },
];

const levelStyles: Record<ToolLevel, string> = {
  Iniciado:
    "bg-amber-100 text-amber-900 dark:bg-amber-500/20 dark:text-amber-200",
  Intermedio:
    "bg-blue-100 text-blue-900 dark:bg-blue-500/20 dark:text-blue-200",
  Avanzado:
    "bg-emerald-100 text-emerald-900 dark:bg-emerald-500/20 dark:text-emerald-200",
  Experto:
    "bg-purple-100 text-purple-900 dark:bg-purple-500/20 dark:text-purple-200",
};

const levelDescription: Record<ToolLevel, string> = {
  Iniciado: "Familiaridad básica, en proceso de consolidación.",
  Intermedio: "Uso habitual en proyectos y tareas recurrentes.",
  Avanzado: "Aplicación con soltura en contextos complejos.",
  Experto: "Referente en el stack, con decisiones estratégicas.",
};
---

<ol class="grid gap-6 sm:grid-cols-2 xl:grid-cols-3">
  {
    TOOLS.map((tool) => (
      <li class="group rounded-xl border border-border bg-card/40 p-6 shadow-sm transition-colors hover:border-primary/40 hover:bg-card/60">
        <div class="flex flex-col gap-5">
          <div class="flex items-center gap-4">
            <ToolIcon name={tool.id} color={tool.color} />
            <div>
              <p class="text-xs font-semibold uppercase tracking-wide text-primary/80">
                {tool.category}
              </p>
              <h3 class="mt-1 text-lg font-semibold text-foreground transition-colors group-hover:text-primary">
                {tool.name}
              </h3>
            </div>
          </div>

          <div class="flex items-center justify-between gap-4">
            <span
              class={`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${levelStyles[tool.level]}`}
              title={levelDescription[tool.level]}
            >
              <span class="size-2 rounded-full bg-current opacity-80" />
              {tool.level}
            </span>
          </div>
        </div>
      </li>
    ))
  }
</ol>
